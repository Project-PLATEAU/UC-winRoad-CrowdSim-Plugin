{
  "index.html": {
    "href": "index.html",
    "title": "人流シミュレーションプラグイン（UC-win/Roadプラグイン）",
    "summary": "人流シミュレーションプラグイン（UC-win/Roadプラグイン） 本システムは、PLATEAUの3D都市モデルを活用し、移動体データフォーマットの国際標準形式「MF-JSON」を用いた人流シミュレーション及びシミュレーション結果の出力を行うためのシステムです。"
  },
  "manual/devMan.html": {
    "href": "manual/devMan.html",
    "title": "環境構築手順書",
    "summary": "環境構築手順書 1 本書について 本書は、人流シミュレーションプラグイン(UC-win/Roadプラグイン)の利用環境構築手順について記載しています。 Tip 本システムの構成や仕様の詳細については技術検証レポートも参考にしてください。 2 動作環境 本システムの動作環境は以下のとおりです。 項目 最小動作環境 推奨動作環境 OS Microsoft Windows10 / 11(64bit) 同左 CPU IntelCorei5以上 同左 GPU NVIDIA製GPU NVIDIA Geforce GTX1650以上(4GB以上のメモリ) メモリ 4GB以上 32GB以上 ストレージ 最低30GB以上の空き容量 SSDドライブ 最低60GB以上の空き容量 ディスプレイ解像度 1920×1080以上 同左 ネットワーク 必須 同左 3 インストール手順 Important 本システムを実行するにはUC-win/Roadのライセンスが必要です。詳細は株式会社フォーラムエイトにお問い合わせ下さい。 フォーラムエイト(HP) フォーラムエイト(サポートページ) 3-1 F8CrowdSimPlugin GitHubページからUC-winRoad-CrowdSim-Plugin-v.0.1.0.zipをダウンロードします。 GitHubページからソースファイルをダウンロードします。 WindowsのエクスプローラでUC-win/Roadのデータディレクトリを開きます。 Tip データディレクトリの場所は、UC-win/Roadで確認できます。 UC-win/Roadを起動して、メイン画面上部の「ファイル」タブ>>「アプリケーションオプション」>>「デフォルト設定」を押下します。 「アプリケーションデフォルト」画面が開くので、画面左側のタブから「フォルダ、ファイル関連」を選択します。「データディレクトリ」項目に記載されている場所を確認します。 データディレクトリ直下の「Plugins」フォルダを開きます(もし「Plugins」フォルダが無ければ作成してください)。 ダウンロードしたzipファイルを解凍し、「Plugins」フォルダ直下にF8CrowdSimPlugin.bplを設置します。 WindowsのエクスプローラでUC-win/Roadの実行ファイル(UCwinRoad.exe)があるフォルダを開きます。 Tip UC-win/Roadをインストールすると、デフォルト設定ではデスクトップにショートカットが作成されます。 ショートカットを右クリックし、「ファイルの場所を開く」を選択するとUC-win/Roadの実行ファイル(UCwinRoad.exe)があるフォルダを開けます。 Shadersフォルダを開きます。 Pluginsフォルダを開きます。 ダウンロードしたソースファイルのsrc\\F8CrowdSimPlugin\\Shadersフォルダ内のCrowdSimMeshフォルダを前項のPluginsフォルダにコピーします。 3-2 CrowdSim GitHubページからUC-winRoad-CrowdSim-Plugin-v.0.1.0.zipをダウンロードします。 WindowsのエクスプローラでUC-win/Roadの実行ファイル(UCwinRoad.exe)があるフォルダを開きます。 ダウンロードしたファイルを解凍し、前項で開いたフォルダ内にCrowdSim.exeを設置します。 UC-win/Roadをデフォルト設定でインストールし、3-1と3-2を手順どおりに進めた場合、最終的にフォルダ構成は次のようになります。 C: ├─Program Files │ └─FORUM8 │ └─UCwinRoad 17.2 <------ UCwin/Roadの実行ファイルがあるフォルダ │ ├─CrowdSim.exe <------ ダウンロードしたexeを設置(3-2) │ └─shaders │ └─Plugins │ └─CrowdSimMesh <------ ダウンロードしたフォルダを設置(3-1) └─UCwinRoad Data 17.2 <------ データディレクトリ │ └─Plugins │ └─F8CrowdSimPlugin.bpl <------ ダウンロードしたbplを設置(3-1) 4 ビルド手順 Important F8CrowdSimPluginをビルドするにはUC-win/Road SDKが必要です。詳細は株式会社フォーラムエイトにお問い合わせ下さい。 フォーラムエイト(HP) フォーラムエイト(サポートページ) Important F8CrowdSimPlugin、CrowdSimをビルドするにはDelphi 10.4.2が必要です。IDE Patchesは全て適用済みの状態にして下さい。詳しくはこちらをご参照ください。 ソースファイルからF8CrowdSimPlugin、CrowdSimを生成することができます。 ソースファイルはこちらからダウンロード可能です。 srcフォルダ下にF8CrowdSimPlugin、CrowdSimフォルダがあります。 フォルダ名 詳細 F8CrowdSimPlugin F8CrowdSimPlugin.bplのソースコード CrowdSim CrowdSim.exeのソースコード 4-1 F8CrowdSimPlugin ソースファイルからF8CrowdSimPluginを生成することができます。 ソースコードはGitHubからダウンロードしたフォルダに含まれるsrcフォルダ内のF8CrowdSimPluginフォルダにあります。 フォルダ構成は次のようになっています。 ├─Importer │ ├─CityGML │ ├─MFJSON │ └─TrafficSensor ├─PeopleFlowAnalysis │ ├─Contour │ ├─ExportsForm │ ├─FlowLog │ └─HeatMap ├─PeopleFlowSimulation │ ├─Menge │ │ ├─MengeUtils │ │ └─XmlFormats │ └─PedestrianMap │ └─PedestrianMapUtil ├─PlayerForm │ ├─imgs │ └─PlayerFormFrame └─Shaders └─CrowdSimMesh └─Sources ビルド方法は次のとおりです。 UC-win/Road SDKのヘルプファイルに従って開発環境の初期設定を行います。 本システムのプロジェクトファイル（F8CrowdSimPlugin.dproj）をDelphi 10.4.2で開きます。 プラグインの出力先を確認します。 プロジェクト画面で「F8CrowdSimPlugin.bpl」を右クリックし、「オプション」を選択します。 「ビルド」-「Delphiコンパイラ」を開きます。 「ターゲット」を「すべての構成 - Windows64ビット プラットフォーム」に変更します。 「パッケージの出力ディレクトリ」が「(UC-wi/Roadのデータディレクトリ)\\Plugins」になってない場合は変更して下さい。 ビルド構成を「Release」、ターゲットプラットフォームを「Windows 64ビット」にしてビルドします。 ビルドに成功すると、前項で確認した「パッケージの出力ディレクトリ」の場所に「F8CrowdSim.bpl」が出力されます。 4-1-1 シェーダファイルの更新 Shadersフォルダ内のファイルを変更した場合は、インストール手順を参考にCrowdSimMeshフォルダを更新して下さい。 4-2 CrowdSim ソースファイルからCrowdSimを生成することができます。 ソースコードはGitHubからダウンロードしたフォルダに含まれるsrcフォルダ内のCrowdSimフォルダにあります。 フォルダ構成は次のようになっています。 ├─data ├─util ビルド方法は次のとおりです。 本システムのプロジェクトファイル（CrowdSim. dproj）をDelphi 10.4.2で開きます。 ビルド構成を「Release」、ターゲットプラットフォームを「Windows64ビット」にしてビルドします。 次に、ビルドしたCrowdSimを使用できるようセットアップします。 セットアップ方法は次の通りです。 ビルドに成功すると、CrowdSimフォルダにWin64\\Releaseフォルダが自動生成されるので、フォルダ内に移動します。 フォルダ内にある「CrowdSim.exe」をUC-win/Roadの実行ファイル(UCwinRoad.exe)があるフォルダにコピーします。 MengeのGitHubページからMengeのソースコードを取得し、同ページの記述に従ってビルドします。 ビルドすると、「MengeCore.dll」が生成されます。 「MengeCore.dll」をUC-win/Roadの実行ファイル(UCwinRoad.exe)があるフォルダにコピーします。 5 準備物一覧 アプリケーションを利用するために以下のデータを入手します。 データの入力方法については操作マニュアルをご参照下さい。 # データ種別 機能 用途 入力方法 1 3D都市モデル(CityGML) G空間情報センターから取得します。 全般 全般 格納フォルダパス指定 2 人流データ(MF-Json) 人流データ変換ツールを使って作成します。 3次元形状の物体の移動データ 人流シミュレーションの初期値 格納フォルダパス指定 本システムでは、3D都市モデルの交通（道路）モデルLOD1～LOD3.3を活用します。 また、歩行エリア編集時の参考情報として建築物モデルの形状も利用しています。 地物 地物型 属性区分 属性名 内容 建築物LOD1 bldg:Building 空間属性 bldg:lod1Solid 建築物のLOD1の立体 建築物LOD2 bldg:Building 空間属性 bldg:lod2Solid 建築物のLOD2の立体 道路LOD1 tran:Road 空間属性 tran:lod1MultiSurface 道路のLOD1の形状 道路LOD3. 3 tran:Road 空間属性 tran:lod3MultiSurface 道路のLOD3の形状"
  },
  "manual/userMan.html": {
    "href": "manual/userMan.html",
    "title": "操作マニュアル",
    "summary": "操作マニュアル 1 本書について 本書では、人流シミュレーションプラグイン（UC-win/Roadプラグイン）の操作手順について記載しています。 2 使い方 2-1 プロジェクト読み込み画面 ファイル「UCwinRoad.exe」を実行すると以下の画面が表示されます。 ① デフォルトのデータで新規プロジェクト（※1）を作成し、読み込みます。 ② クリックするとファイルダイアログが表示され、ダイアログ内で選択された既存のプロジェクトを読み込みます。 ③ 地形データや地理院タイルをもとに新規プロジェクトを作成し、読み込みます。 ④ 「UCwinRoad.exe」内のブラウザから任意のプロジェクトをダウンロードし、読み込みます。 （※1）プロジェクトとは、拡張子が「.rd」のファイルのことをいいます。 2-2 MF-JSON読み込み画面 プロジェクトを読み込むと以下の画面（以下「UCwinRoadメイン画面」という。）が表示されます。 UCwinRoadメイン画面上部の「ファイル」タブ>>「インポート」>>「Import MF-Json...」をクリックすると以下の画面が表示されます。 ① インポートするファイル 追加したMF-JSONのファイル名が一覧で表示されます。ファイル名をクリックすると、そのMF-JSONを選択している状態になります。 ② デフォルトモデル クリックすると、MF-JSONから取得した人物データ（以下「AGENT」という。）に割り当てる3Dキャラクターモデルを選択できます。 ③ 詳細設定 「+」ボタンをクリックすると画面が変化し、AGENTに性・年齢データが含まれていた場合や、シミュレーションの天候を雨に設定した場合に割り当てる3Dキャラクターモデルを選択できます。 画面が変化している状態で「-」ボタンをクリックすると、元の表示に戻ります。 ④ 追加 クリックするとファイルダイアログが表示され、ダイアログ内で選択されたMF-JSONを追加します。 ⑤ 削除 クリックすると、①で選択中のMF-JSONを削除します。 ⑥ インポート クリックすると、MF-JSONを読み込みます。読み込み完了後、自動的にMF-JSON読み込み画面を閉じます。 2-3 断面交通流データ読み込み画面 Tip シミュレーション計算時、歩行者の拡大推計に使用するデータを読み込む画面についての説明を行う章です。 断面交通流データを用いた拡大推計を行わない場合は2-4 CityGML読み込み画面へ進んでください。 UCwinRoadメイン画面上部の「ファイル」タブ>>「インポート」>>「Import TrafficSensorData...」をクリックすると以下の画面が表示されます。 ① 「センサデータ（JSON）」タブ クリックすると、センサ別断面交通流データ読み込み画面が表示されます。 ② 「人流データ（DAT）」タブ クリックすると、時刻別断面交通流データ読み込み画面が表示されます。 ③ 「OK」ボタン クリックすると、断面交通流データを読み込みます。読み込み完了後、自動的に断面交通流データ読み込み画面を閉じます。 ④ 「キャンセル」ボタン クリックすると、断面交通流データを読み込まずに断面交通流データ読み込み画面を閉じます。 2-3-1 センサ別断面交通流データ読み込み画面 人感センサ「people-flow」の断面交通流データを読み込む画面です。 ① JSONファイルを選択してインポート（センサデータ） クリックすると、ファイルダイアログが表示され、ダイアログ内で選択されたセンサ別断面交通流データを追加します。「people-flow」の最新データを集計したフォーマットに対応しています。 ② JSONファイルを選択してインポート（センサ詳細データ） クリックするとファイルダイアログが表示されます。 ダイアログ内で選択されたセンサ別断面交通流データを追加します。「people-flow」の過去データを集計したフォーマットに対応しています。 ③ インポートした各データを既存データに追加 チェックが入っている場合は、既に読み込んだ断面交通流データに新しく読み込む断面交通流データを追加します。 ④ エンティティID クリックすると、①で選択したファイルに基づいてセンサ名が一覧で表示されます。 表示された中からセンサ名をクリックすると、そのセンサに関するデータが⑥に表示されます。 ⑤ インポートしたデータ 入力された値に応じて、⑥で表示されるデータが変化します。 ⑥ 断面交通流データの表示 ①または②で選択されたファイルと④及び⑤で入力された内容に基づいて、読み込み予定の断面交通流データを表示します。 ⑤で入力された値が大きいほど、表示されるデータは新しいデータになります。 2-3-2 時刻別断面交通流データ読み込み画面 AIカメラ「FieldAnalyst forGateVer.8」の断面交通流データを読み込む画面です。 ① DATファイルを選択してインポート（入退場人流データ） クリックすると、ファイルダイアログが表示されます。 ダイアログ内で選択された時刻別断面交通流データを追加します。「FieldAnalyst forGateVer.8」の入退場人数を集計したフォーマットに対応しています。 ② DATファイルを選択してインポート（性別・年齢別人流データ） クリックすると、ファイルダイアログが表示されます。 ダイアログ内で選択された時刻別断面交通流データを追加します。「FieldAnalyst forGateVer.8」の性別・年齢別入退場人数を集計したフォーマットに対応しています。 ③ 人流データ計測時刻 入力された値に応じて、④で表示されるデータが変化します。 ④ 断面交通流データの表示 ①または②で選択されたファイルと③で入力された時刻に基づいて、読み込み予定の断面交通流データを表示します。 2-4 CityGML読み込み画面 UCwinRoadメイン画面上部の「ファイル」タブ>>「インポート」>>「CityGMLファイルのインポート」をクリックすると以下の画面が表示されます。 ① インポートするファイル 追加したCityGMLが一覧で表示されます。 ② すべて選択 クリックすると、追加したCityGMLをすべて選択します。 ③ ファイルを追加 クリックするとファイルダイアログが表示され、ダイアログ内で選択されたCityGMLを追加します。 ④ オプション設定 CityGML読み込み時の設定を行います。 ⑤ インポート クリックすると、CityGMLを読み込みます。読み込み完了後、自動的にCityGML読み込み画面を閉じます。 ⑥ 閉じる クリックすると、CityGMLを読み込まずにCityGML読み込み画面を閉じます。 ⑦ ヘルプ クリックすると、CityGML読み込み画面に関するヘルプが表示されます。 2-5 人流シミュレーション設定画面 MF-JSON読み込み後にUCwinRoadメイン画面の「CrowdSim」タブ>>「Crowd Sim Player...」ボタンをクリックすると、以下の画面が表示されます。 ① 「地域設定」タブ クリックすると、地域設定画面が表示されます。 ② 「AGENT情報」タブ クリックすると、AGENT情報画面が表示されます。 ③ 「シミュレーション集計設定」タブ クリックすると、シミュレーション集計設定画面が表示されます。 ④ 「シミュレーション設定」タブ クリックすると、シミュレーション設定画面が表示されます。 2-5-1 地域設定画面 シミュレーションを実施する領域（以下「メッシュ」という。）の生成・編集を行う画面です。 ① 表示オプション UCwinRoadメイン画面の表示に関する設定を行います。 ② メッシュを新規生成する クリックすると、メッシュ新規生成画面が表示されます。 ③ メッシュの歩行エリアを編集する クリックすると、歩行エリア編集画面が表示されます。 2-5-1-1 メッシュ新規生成画面 メッシュの生成を行う画面です。 ① 原点を編集する クリックすると、メッシュの原点を選択するモードに移行します。この状態でUCwinRoadメイン画面の地形をクリックすると、クリックした地点をメッシュの原点として設定します。 ② 範囲を編集する クリックすると、メッシュの範囲を選択するモードに移行します。この状態でUCwinRoadメイン画面の地形をクリックすると、クリックした地点をメッシュの終点として設定します。 ③ マスの大きさ 入力された値に基づいて、メッシュを正方形のマス単位に分割します。値を小さくするほど精緻なシミュレーションを行うことができますが、シミュレーション計算にかかる時間が増加します。 ④ メッシュ生成実行 クリックすると、メッシュを生成します。生成されたメッシュは読み込んだCityGMLの属性（※2）に基づいて、マスごとに歩行可能エリアと歩行不可エリアを分類します。 メッシュ生成完了後、自動的に歩行エリア編集画面が表示されます。 （※2）3D都市モデル標準製品仕様書 第4.1版に準拠するCityGMLが対象となります。CityGMLの属性がLOD1の道路（tran:Road）である場合はモデルが指定する全域が、LOD3の道路（tran:Road）である場合はモデルが指定する通行可能な領域（tran:TrafficArea）が歩行可能エリアとなります。 2-5-1-2 歩行エリア編集画面（歩行可能/不可） メッシュの歩行エリアについて、歩行可能・歩行不可を編集する画面です。歩行エリア編集画面>>「歩行可能領域の編集」タブをクリックすると表示されます。 ① クリックした地点を歩行可能とする 選択されている状態でUCwinRoadメイン画面の地形をクリックすると、クリックした地点のマスを歩行可能エリアとして設定します。 ② クリックした地点を歩行不可とする 選択されている状態でUCwinRoadメイン画面の地形をクリックすると、クリックした地点のマスを歩行不可エリアとして設定します。 ③ 選択サイズ クリックした地点を中心とし、表示されている値に基づいた範囲のマスをまとめて編集します。スライダーを動かすことで値を変更することができます。 2-5-1-3 歩行エリア編集画面（横断歩道） メッシュの歩行エリアについて、横断歩道に関する編集を行う画面です。歩行エリア編集画面>>「横断歩道の編集」タブをクリックすると表示されます。 ① 信号切替間隔 入力されている秒数に基づいて、シミュレーション内で横断歩道の信号が切り替わります。 ② 追加 クリックすると、新しく横断歩道を追加します。 ③ 削除 クリックすると、④で選択中の横断歩道を削除します。 ④ 横断歩道の一覧 追加した横断歩道の名前が一覧で表示されます。横断歩道名をクリックすると、その横断歩道を選択している状態になります。 ⑤ 青信号 クリックすると、選択中の横断歩道を青信号から始まる（※3）横断歩道として設定します。 ⑥ 赤信号 クリックすると、選択中の横断歩道を赤信号から始まる（※3）横断歩道として設定します。 ⑦ 選択領域を追加する 選択されている状態でUCwinRoadメイン画面の地形をクリックすると、クリックした地点のマスを横断歩道として設定します。 ⑧ 選択領域を除外する 選択されている状態でUCwinRoadメイン画面の地形をクリックすると、クリックした地点のマスが横断歩道であった場合にそのマスを通常の歩行可能エリア・歩行不可エリアに戻します。 ⑨ 選択サイズ クリックした地点を中心とし、表示されている値に基づいた範囲のマスをまとめて編集します。スライダーを動かすことで値を変更することができます。 （※3）シミュレーション開始時刻における信号状態のことをいいます。 2-5-2 AGENT情報画面 AGENTに関する情報の表示と設定を行う画面です。 ① AGENT情報のページ AGENT情報を一覧で表示している現在のページ番号と総ページ数が表示されます。 ② AGENT情報 AGENTのモデル、接続（シミュレーション計算の対象とするかどうか）、始点及び終点の緯度・経度が表示されます。1ページ当たり最大100人分の情報が表示されます。 ③ 詳細設定 クリックすると、シミュレーション計算に用いるAGENTのパラメータ（※4）を設定する画面が表示されます。 （※4）パラメータのうち「拡大係数」を有効にすると、入力された内容に応じてシミュレーション内での人流が本来の人流よりも多くなります。拡大係数を大きくするほどシミュレーション計算にかかる時間が増加します。 2-5-3 シミュレーション集計設定画面 人流シミュレーションのログデータ集計に関する設定を行う画面です。 ① 通過データ集計間隔 入力された値に応じて、メッシュのマスごとの通過人数を集計する間隔が変化します。 マスごとの通過人数の集計結果は、ヒートマップ・コンターの生成に使用されます。 ② ログ出力間隔 入力された値に応じて、設定した断面交通流計測範囲の通過人数を集計する間隔が変化します。 断面交通流計測範囲の通過人数の集計結果は、シミュレーション停止時にデータディレクトリ下の「Log」フォルダに出力されます。データディレクトリはUCwinRoadメイン画面上部の「ファイル」タブ>>「アプリケーション オプション」>>「デフォルト設定」から確認することができます。 ③ 計測範囲左上を選択 クリックすると、断面交通流計測範囲の左上（※5）を選択するモードに移行します。この状態でUCwinRoadメイン画面の地形をクリックすると、クリックした地点を断面交通流計測範囲の左上座標として設定します。 ④ 計測範囲左上を選択 クリックすると、断面交通流計測範囲の右下（※5）を選択するモードに移行します。この状態でUCwinRoadメイン画面の地形をクリックすると、クリックした地点を断面交通流計測範囲の右下座標として設定します。 ⑤ 計測範囲名 入力された内容を断面交通流計測範囲の名前として設定します。 ⑥ 計測範囲を追加 クリックすると、③～⑤で選択・入力された内容に基づいて断面交通流計測範囲を追加します。 ⑦ 計測範囲確認 クリックすると、追加した断面交通流計測範囲の名前が一覧で表示されます。そこから計測範囲名を選択すると、選択した計測範囲がUCwinRoadメイン画面上で強調表示されます。 ⑧ 選択中の計測範囲を削除 クリックすると、⑦で選択した計測範囲を削除します。 ⑨ 計測範囲の一覧 追加した計測範囲に関する情報が一覧で表示されます。 （※5）断面交通流計測範囲の左上・右下は南からの視点が基準となります。 2-5-4 シミュレーション設定画面 人流シミュレーションの計算に関する設定を行う画面です。 ① シミュレーション計算時刻 入力された開始時刻から終了時刻までのシミュレーションを計算します。 ② 天候 選択された天候下でのシミュレーションを計算します。 ③ 出力ディレクトリ、出力ファイル名 入力されたフォルダのパスとファイル名に基づいて、シミュレーション計算結果のMF-JSONを出力します。 ④ AGENT座標出力間隔 MF-JSONを出力する際に、計算された各AGENTの座標を入力された秒数ごとに出力します。0秒とした場合は全て（0.1秒ごと）の座標を出力します。 ⑤ 計算結果をもとにMF-JSONを出力 シミュレーション計算完了後にクリックすると、計算結果を汎用フォーマット人流データのMF-JSONとして出力します。 ⑥ 詳細設定 クリックすると、シミュレーション計算の通信に関する設定を行う画面が表示されます。 ⑦ 計算 クリックすると、シミュレーション計算実行ソフト「CrowdSim.exe（※6）」を自動的に起動してシミュレーション計算（※7）を行います。 （※6）「CrowdSim.exe」が起動すると以下の画面が表示されます。 （※7）シミュレーション計算中は以下の画面が表示されます。「計算が終了しました。」というメッセージが表示されると計算完了となります。 2-5-5 シミュレーション再生画面 シミュレーション計算完了後、人流シミュレーション設定画面上部のボタンから計算したシミュレーションを再生することができます。 ① 再生ボタン クリックすると、UCwinRoadメイン画面上でシミュレーションを再生します。 ② 再生速度 入力された値に応じて、巻き戻し・早送り時のシミュレーションの再生速度が変化します。 ③ 巻き戻しボタン クリックすると、シミュレーションを巻き戻します。巻き戻し中に再度クリックすると、巻き戻しを終了します。 ④ 早送りボタン クリックすると、シミュレーションを早送りします。早送り中に再度クリックすると、早送りを終了します。 ⑤ 一時停止ボタン クリックすると、シミュレーションを一時停止します。一時停止中に再度クリックすると、一時停止を解除します。 ⑥ 停止ボタン クリックすると、シミュレーションを停止します。シミュレーション再生中にクリックすると、停止後に出力データ選択画面が表示されます。 ⑦ シミュレーション日時 入力された日時からシミュレーションが開始されます。 2-5-6 出力データ選択画面 再生中のシミュレーションを停止すると、以下の画面が表示されます。 ① 「断面交通流解析結果」タブ クリックすると、断面交通流解析結果画面が表示されます。 ② 「ヒートマップ生成」タブ クリックすると、ヒートマップ生成画面が表示されます。 ③ 「コンター生成」タブ クリックすると、コンター生成画面が表示されます。 2-5-6-1 断面交通流解析結果画面 シミュレーション再生中に各断面交通流計測範囲を通過した人数が折れ線グラフで表示されます。縦軸は人数、横軸はシミュレーション経過時間となります。 「解析結果を画像として保存する」をクリックするとファイルダイアログが表示され、解析結果のグラフを画像データとしてダイアログ内で選択されたフォルダに出力します。 2-5-6-2 ヒートマップ生成画面 ① ヒートマップを生成するシミュレーション区間 入力されたシミュレーション区間の人流がヒートマップとして生成されます。シミュレーション集計設定画面で入力された通過データ集計間隔が指定できる区間の最低分解能となります。 ② ヒートマップを生成する クリックすると、ヒートマップ生成結果画面が表示されます。 ヒートマップ生成結果画面では、指定されたシミュレーション区間の人流のヒートマップが表示されます。 「画像として保存する」をクリックするとファイルダイアログが表示され、生成されたヒートマップと凡例を画像データとしてダイアログ内で選択されたフォルダに出力します。 2-5-6-3 コンター生成画面 ① コンターを生成するシミュレーション区間 入力されたシミュレーション区間の人流がコンターとして生成されます。シミュレーション集計設定画面で入力された通過データ集計間隔が指定できる区間の最低分解能となります。 ② コンターを生成する クリックすると、コンター生成結果画面が表示されます。 コンター生成結果画面では、指定されたシミュレーション区間の人流のコンターが表示されます。 「画像として保存する」をクリックするとファイルダイアログが表示され、生成されたコンターと凡例を画像データとしてダイアログ内で選択されたフォルダに出力します。 3 出力データ 本システムで出力されるデータは以下のとおりです。 出力データ 内容 データ形式 断面交通流ログ 断面交通流計測範囲名、シミュレーション経過時間、シミュレーション時刻、計測範囲（緯度・経度）及びその座標、通過人数を記載したデータ。 CSV シミュレーション計算結果の人流データ シミュレーション計算結果を汎用フォーマット人流データに変換したデータ。 JSON 断面交通流解析結果 断面交通流計測範囲の通過人数を折れ線グラフで記録した画像データ。 PNG、JPEG、BMP ヒートマップ メッシュのマスごとの通過人数をヒートマップで記録した画像データ。 PNG、JPEG、BMP コンター メッシュのマスごとの通過人数をコンターで記録した画像データ。 PNG、JPEG、BMP 3-1 断面交通流ログ シミュレーション集計設定画面で追加した断面交通流計測範囲ごとに、計測範囲名、シミュレーション経過時間、シミュレーション時刻、計測範囲（緯度・経度）及びその座標、通過人数がCSV形式で出力されます。 3-2 シミュレーション計算結果の人流データ シミュレーション設定画面より、人流シミュレーションの計算結果が汎用フォーマット人流データ（JSON形式）で出力されます。 出力されたJSONファイルは人流可視化ツールでの利用が可能です。 3-3 断面交通流解析結果 断面交通流解析結果画面より、断面交通流解析結果のグラフが画像（PNG、JPEG、BMP形式）で出力されます。 3-4 ヒートマップ ヒートマップ生成結果結果画面より、ヒートマップとその凡例が画像（PNG、JPEG、BMP形式）で出力されます。 3-5 コンター コンター生成結果画面より、コンターとその凡例が画像（PNG、JPEG、BMP形式）で出力されます。"
  }
}